<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clipn</title>

<link rel="stylesheet" href="style.css">

<style>
body{
    margin:0;
    font-family:Tahoma;
    background:#081c2a;
    color:white;
}

/* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
.topbar{
    height:60px;
    background:#0e2b3d;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    font-weight:bold;
    position:fixed;
    width:100%;
    top:0;
    left:0;
}

/* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© */
.container{
    margin-top:80px;
    padding:20px;
    text-align:center;
}

.card{
    background:#0e2b3d;
    padding:20px;
    border-radius:15px;
    margin-top:20px;
}

.logout{
    margin-top:25px;
    background:#ff3b3b;
    border:none;
    color:white;
    padding:12px;
    border-radius:10px;
    width:100%;
    font-size:16px;
}
</style>
</head>

<body>

<div class="topbar">
Clipn
</div>

<div class="container">

    <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</h2>

    <div class="card">
        <p id="userEmail">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
    </div>

    <button class="logout" id="logoutBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>

</div>


<!-- Firebase -->
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

/* Ø¶Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª firebase.js Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù‡Ù†Ø§ */
const firebaseConfig = {
  apiKey: "Ø¶Ø¹Ù‡Ù†Ø§",
  authDomain: "Ø¶Ø¹Ù‡Ù†Ø§",
  projectId: "Ø¶Ø¹Ù‡Ù†Ø§",
  storageBucket: "Ø¶Ø¹Ù‡Ù†Ø§",
  messagingSenderId: "Ø¶Ø¹Ù‡Ù†Ø§",
  appId: "Ø¶Ø¹Ù‡Ù†Ø§"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ø¨Ø¯ÙˆÙ† Ø·Ø±Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…) */
onAuthStateChanged(auth, (user) => {

    if(user){
        document.getElementById("userEmail").innerText =
        "ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø©:\n" + user.email;
    }else{
        document.getElementById("userEmail").innerText =
        "Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„";
    }

});

/* ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ */
document.getElementById("logoutBtn").onclick = () => {
    signOut(auth).then(()=>{
        window.location.href = "login.html";
    });
};

</script>

</body>
</html>
