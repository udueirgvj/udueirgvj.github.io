<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุชูุฑููุจ - ุงูุชุทุจูู</title>
    <!-- ุฑุจุท ููู ุงูุชูุณููุงุช (ููููู ูุถุนู ูู ููู ูููุตู ุฃู ููุง) -->
    <link rel="stylesheet" href="css/style.css">
    <!-- ููู ุงูุชุญููู ุงูุฑุฆูุณู -->
    <script src="loader.js"></script>
</head>
<body>
    <div id="app">
        <!-- ุงูุดุฑูุท ุงูุนููู -->
        <div class="top-bar">
            <div class="menu-icon" onclick="UI.toggleDrawer()">โฐ</div>
            <div class="app-name">ุชูุฑููุจ</div>
            <div class="search-icon" onclick="UI.toggleSearch()">๐</div>
        </div>

        <!-- ุดุฑูุท ุงูุจุญุซ -->
        <div id="searchBar" class="search-bar">
            <input type="text" id="searchInput" placeholder="ุงุจุญุซ ุนู ูุณุชุฎุฏูุ ููุงุฉุ ุฃู ูุฌููุนุฉ...">
            <div id="searchResults" class="search-results"></div>
        </div>

        <!-- ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (ุชุธูุฑ ุนูุฏ ุงูุถุบุท ุนูู โฐ) -->
        <div id="drawerOverlay" class="drawer-overlay" onclick="UI.closeDrawer()"></div>
        <div id="drawer" class="drawer">
            <div class="drawer-header">
                <div id="drawerAvatar" class="drawer-avatar" onclick="UI.changePhoto()">๐ค</div>
                <div>
                    <div id="drawerFullName">ุงูุงุณู</div>
                    <div id="drawerUsername" style="color:#666;">@username</div>
                </div>
            </div>
            <div class="drawer-menu-item" onclick="UI.editName()">โ๏ธ ุชุบููุฑ ุงูุงุณู</div>
            <div class="drawer-menu-item" onclick="UI.editUsername()">๐ ุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู</div>
            <div class="drawer-menu-item" onclick="UI.toggleDarkMode()">๐ ุงููุถุน ุงูุฏุงูู</div>
            <div class="drawer-menu-item" onclick="UI.showSettings('counters')">๐ ุงูุนุฏุงุฏุงุช</div>
            <div class="drawer-menu-item" onclick="Support.openSupportPanel()" id="supportMenuItem" style="display:none;">๐ง ููุญุฉ ุงูุฏุนู</div>
            <div class="drawer-menu-item" onclick="Auth.logout()">๐ช ุชุณุฌูู ุฎุฑูุฌ</div>
        </div>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <div id="mainContent" class="main-content">
            <!-- ููุงุฉ ุงููุทูุฑ -->
            <div class="channel-card" onclick="Channel.open()">
                <div class="channel-icon">๐ข</div>
                <div class="channel-text">
                    <div class="channel-title">ุงููุทูุฑ ุชุทุจูู</div>
                    <div class="channel-sub">ููุงุฉ ุงูุชุญุฏูุซุงุช ุงูุฑุณููุฉ</div>
                </div>
                <div style="background:rgba(255,255,255,0.2); padding:4px 12px; border-radius:20px;">700K+</div>
            </div>

            <!-- ูุงุฆูุฉ ุงููุญุงุฏุซุงุช -->
            <div id="chatListContainer" class="chat-list"></div>
        </div>

        <!-- ุฒุฑ ุงูุฅุถุงูุฉ ุงูุนุงุฆู (ููุชุญ ูุงูุฐุฉ ุฅูุดุงุก ูุฌููุนุฉ/ููุงุฉ) -->
        <div class="fab" onclick="UI.openCreateModal()">+</div>

        <!-- ูุงูุฐุฉ ุฅูุดุงุก ูุฌููุนุฉ/ููุงุฉ -->
        <div id="createModal" class="modal">
            <div class="modal-header">
                <div class="back-btn" onclick="UI.closeCreateModal()">โ</div>
                <div>ุฅูุดุงุก ูุฌููุนุฉ ุฃู ููุงุฉ</div>
            </div>
            <div class="modal-content">
                <input type="text" id="createName" placeholder="ุงูุงุณู (ูุซู: ุฃุฎุจุงุฑ ุงูุชูููููุฌูุง)">
                <input type="text" id="createUsername" placeholder="ุงุณู ุงููุณุชุฎุฏู (ูุซู: technews)">
                <select id="createType">
                    <option value="group">ูุฌููุนุฉ (ูููู ููุฌููุน ุงููุชุงุจุฉ)</option>
                    <option value="channel">ููุงุฉ (ุงููุงูู ููุท ููุชุจ)</option>
                </select>
                <div id="createError" class="error"></div>
                <button onclick="GroupsAndChannels.create()">ุฅูุดุงุก</button>
            </div>
        </div>

        <!-- ูุงูุฐุฉ ูุงุฆูุฉ ุงูุนุฏุงุฏุงุช ุงูููุจุซูุฉ -->
        <div id="countersMenu" class="modal">
            <div class="modal-header" style="background: #667eea;">
                <div class="back-btn" onclick="UI.closeCountersMenu()">โ</div>
                <div>๐ ุงููุงุฆูุฉ</div>
            </div>
            <div style="padding: 20px; overflow-y: auto;">
                <div class="drawer-menu-item" onclick="UI.countersAction('blocked')"><span>๐ซ</span> ุงูุดุฎุต ูุญุธูุฑูู</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('sessions')"><span>๐ฑ</span> ุฌูุณุงุช ุงูุฐู ูู ุงูุญุณุงุจ</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('privacy')"><span>๐</span> ุงูุฎุตูุตูุฉ ูุงูุฃูุงู</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('storage')"><span>๐พ</span> ุงูุจูุงูุงุช ูุงูุชุฎุฒูู</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('power')"><span>โก</span> ุชูููุฑ ุงูุทุงูุฉ</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('badges')"><span>๐ท๏ธ</span> ุงูุดุนุงุฑุงุช</div>
                <div class="drawer-menu-item" onclick="UI.countersAction('folders')"><span>๐</span> ุงููุฌูุฏุงุช</div>
            </div>
        </div>

        <!-- ูุงูุฐุฉ ุงูููู ุงูุดุฎุตู -->
        <div id="profileModal" class="modal">
            <div class="modal-header" style="background: #667eea;">
                <div class="back-btn" onclick="UI.closeProfile()">โ</div>
                <div>ุงูููู ุงูุดุฎุตู</div>
            </div>
            <div class="profile-content" id="profileContent"></div>
        </div>

        <!-- ูุงูุฐุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู -->
        <div id="forwardModal" class="modal">
            <div class="modal-header" style="background: #667eea;">
                <div class="back-btn" onclick="UI.closeForwardModal()">โ</div>
                <div>ุฅุนุงุฏุฉ ุชูุฌูู ุงูุฑุณุงูุฉ ุฅูู</div>
            </div>
            <div class="forward-list" id="forwardList"></div>
        </div>

        <!-- ููุญุฉ ุชุญูู ุงูุฏุนู -->
        <div id="supportPanel" class="modal">
            <div class="support-header">
                <div class="back-btn" onclick="Support.closeSupportPanel()">โ</div>
                <div>๐ง ููุญุฉ ุชุญูู ุงูุฏุนู</div>
            </div>
            <div class="support-list" id="supportConversationsList">
                <div style="padding:20px; text-align:center;">ุฌุงุฑู ุชุญููู ุงููุญุงุฏุซุงุช...</div>
            </div>
        </div>

        <!-- ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ -->
        <div id="chatRoom" class="chat-room">
            <div class="chat-header" onclick="UI.openProfileFromChat()">
                <div class="back-btn" onclick="event.stopPropagation(); Chat.close()">โ</div>
                <div id="chatAvatar" class="chat-avatar">๐ค</div>
                <div class="chat-header-info">
                    <div id="chatName" class="chat-header-name"></div>
                    <div id="chatStatus" class="chat-header-status"></div>
                </div>
                <div id="chatAdminControls" style="display:none;">
                    <button onclick="Chat.banUser()" style="background:#e74c3c; border:none; color:white; padding:4px 8px; border-radius:4px;">ุญุธุฑ</button>
                </div>
            </div>
            
            <div id="messagesContainer" class="messages-container"></div>
            <div class="chat-input-area">
                <input type="text" id="messageInput" placeholder="ุงูุชุจ ุฑุณุงูุฉ...">
                <button id="sendBtn" onclick="Chat.sendMessage()">โค</button>
            </div>
        </div>
    </div>
</body>
</html>
